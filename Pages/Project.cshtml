@page "{slug}"
@model ProjectModel
@{
    ViewData["Title"] = Model.Project?.Title ?? "Project Not Found";
}

@if (Model.Project != null)
{
    <!-- Hero Section -->
    <section class="project-hero py-4">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <!-- Simple Video Box -->
<div class="video-box-container">
    @if (!string.IsNullOrEmpty(Model.Project.YouTubeUrl))
    {
        <div class="ratio ratio-16x9">
            <iframe 
                src="@Model.Project.YouTubeUrl" 
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
            </iframe>
        </div>
    }
    else
    {
        <div class="video-placeholder">
            <i class="fas fa-video fa-3x text-muted mb-3"></i>
            <p class="text-muted mb-0">Video not available</p>
        </div>
    }
</div>

                    
                    <!-- Project Title and Info -->
                    <div class="project-info mt-4">
                        <h1 class="project-title display-4 fw-bold text-white mb-3">@Model.Project.Title</h1>
                        <p class="project-tagline lead text-white-50 mb-4">@Model.Project.Tagline</p>
                        <div class="project-meta d-flex align-items-center flex-wrap gap-3">
                            @if (Model.Project.IsFeatured)
                            {
                                <span class="badge bg-warning text-dark">
                                    <i class="fas fa-star me-1"></i>Featured Project
                                </span>
                            }
                        @if (!string.IsNullOrEmpty(Model.Project.GitHubUrl))
{
    <a href="@Model.Project.GitHubUrl" target="_blank" class="btn btn-outline-primary">
        <i class="fab fa-github me-2"></i>View Code
    </a>
}

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Content -->
    <section class="project-content py-5">
        <div class="container">
            <div class="row">
                <!-- Main Content -->
                <div class="col-lg-8" data-aos="fade-up">
                    <div class="content-section mb-5">
                        <h2 class="h3 fw-bold text-white mb-4">Overview</h2>
                        <p class="text-muted lead">@Model.Project.Overview</p>
                    </div>
                    
                    @if (!string.IsNullOrWhiteSpace(Model.Project.GameplayDescription))
                    {
                        <div class="content-section mb-5">
                            <h2 class="h3 fw-bold text-white mb-4">Gameplay</h2>
                            <p class="text-muted">@Model.Project.GameplayDescription</p>
                        </div>
                    }

                    @if (Model.Project.WhatIDid?.Any() == true)
                    {
                        <div class="content-section mb-5">
                            <h2 class="h3 fw-bold text-white mb-4">What I Did</h2>
                            <p class="text-muted">
                                @string.Join(" ", Model.Project.WhatIDid)
                            </p>
                        </div>
                    }
                    
                    @if (!string.IsNullOrWhiteSpace(Model.Project.Reflection))
                    {
                        <div class="content-section mb-5">
                            <h2 class="h3 fw-bold text-white mb-4">Reflection</h2>
                            <p class="text-muted">@Model.Project.Reflection</p>
                        </div>
                    }
                </div>
                
                <!-- Sidebar -->
                <div class="col-lg-4" data-aos="fade-up" data-aos-delay="200">
                    <div class="project-sidebar">
                        <div class="card bg-dark border-0 mb-4">
                            <div class="card-body">
                                <h3 class="h5 fw-bold text-white mb-3">Technologies Used</h3>
                                <div class="technologies-list">
                                    @foreach (var tech in Model.Project.Technologies)
                                    {
                                        <span class="badge bg-secondary me-1 mb-2">@tech</span>
                                    }
                                </div>
                            </div>
                        </div>
                        
                        <div class="card bg-dark border-0">
                            <div class="card-body">
                                <h3 class="h5 fw-bold text-white mb-3">Project Details</h3>
                                <div class="project-details">
                                    <div class="detail-item d-flex justify-content-between mb-2">
                                        <span class="text-muted">Type:</span>
                                        <span class="text-white">Game Development</span>
                                    </div>
                                    <div class="detail-item d-flex justify-content-between">
                                        <span class="text-muted">Role:</span>
                                        <span class="text-white">Sole Creator</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Navigation -->
    <section class="project-navigation py-5">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <a href="/Projects" class="btn btn-outline-primary btn-lg">
                        <i class="fas fa-arrow-left me-2"></i>Back to Projects
                    </a>
                </div>
            </div>
        </div>
    </section>
}
else
{
    <!-- Project Not Found -->
    <section class="project-not-found py-5 vh-100 d-flex align-items-center">
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-lg-6" data-aos="fade-up">
                    <i class="fas fa-exclamation-triangle fa-4x text-warning mb-4"></i>
                    <h1 class="h2 fw-bold text-white mb-3">Project Not Found</h1>
                    <p class="text-muted mb-4">The project you're looking for doesn't exist or has been removed.</p>
                    <a href="/Projects" class="btn btn-primary btn-lg">
                        <i class="fas fa-th-large me-2"></i>View All Projects
                    </a>
                </div>
            </div>
        </div>
    </section>
}

@section Scripts {
    <script>
        // Initialize AOS animations
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100
        });
    </script>
}




